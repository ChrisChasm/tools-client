{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/services/api.js","src/services/authservice.js","src/services/documents.js","src/services/documentsApi.js","src/shared/entity.js","src/components/editor/editor.js","src/components/icon/icon.js","src/components/login/login.js","/Users/garrettcox/Development/gen-mapper-app/src/components/signup/signup.js","src/components/texteditor/texteditor.js","src/views/category/category.js","src/views/home/home.js","src/views/tool/tool.js"],"names":["App","configureRouter","config","router","map","moduleId","route","name","debug","testing","configure","aurelia","use","standardConfiguration","globalResources","developmentLogging","plugin","start","then","setRoot","handleError","err","console","log","content","message","Api","http","x","withBaseUrl","withHeader","sessionStorage","getItem","get","url","response","data","catch","post","body","put","delete","SUCCESS","User","options","entityType","Object","assign","AuthService","api","loggedIn","onLogin","login","user","handler","create","setItem","signup","status","Document","title","_title","_content","Documents","documentsApi","docs","_current","current","getAll","changeCurrent","setFormat","saveCurrent","update","id","document","DocumentsApi","Entity","props","dirty","titleChanged","contentChanged","Editor","documents","docService","currentDoc","loadedDoc","refreshDocs","d","setDoc","index","reduce","c","i","Error","startNew","importFile","save","updated","format","created","$event","currentId","stopPropagation","length","Icon","Element","element","nameChanged","setAttribute","Login","auth","email","password","onSubmit","event","preventDefault","navigate","TextEditor","Category","Home","categories","tools","image","Tool","canPersist"],"mappings":"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","file":"app-bundle.js","sourcesContent":["\nexport class App {\n  configureRouter(config, router) {\n    config.map([\n      {\n        moduleId: 'views/home/home',\n        route: [''],\n        name: 'home'\n      },\n      {\n        moduleId: 'views/category/category',\n        route: 'categories/:id',\n        name: 'category'\n      },\n      {\n        moduleId: 'views/tool/tool',\n        route: 'tools/:id',\n        name: 'tool'\n      }\n    ]);\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .globalResources('components/icon/icon');\n    // .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import { HttpClient } from 'aurelia-http-client';\nimport { inject } from 'aurelia-framework';\n\nfunction handleError(err) {\n  console.log(err.content.message);\n}\n\n@inject(HttpClient)\nexport class Api {\n  constructor(http: HttpClient) {\n    this.http = http;\n    this.configure();\n  }\n\n  configure() {\n    this.http.configure(x => {\n      x.withBaseUrl('http://genmap.garrettcox.io');\n      x.withHeader('Authorization', 'bearer ' + sessionStorage.getItem('auth_token'));\n    });\n  }\n\n  get(url) {\n    return this.http\n      .get(url)\n      .then(response => response.content.data)\n      .catch(handleError);\n  }\n\n  post(url, body) {\n    return this.http\n      .post(url, body)\n      .then(response => response.content.data)\n      .catch(handleError);\n  }\n\n  put(url, body) {\n    return this.http\n      .put(url, body)\n      .then(response => response.content.data)\n      .catch(handleError);\n  }\n\n  delete(url) {\n    return this.http\n      .delete(url)\n      .then(response => response.content.data)\n      .catch(handleError);\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Api } from 'services/api';\n\nconst SUCCESS = 'success';\nclass User {\n  entityType: string = 'users';\n  email: string;\n  password: string;\n  constructor(options: {}) {\n    Object.assign(this, options);\n  }\n}\n\n@inject(Api)\nexport class AuthService {\n\n  loggedIn: Boolean = false;\n\n  constructor(api) {\n    this.api = api;\n    this.http = api.http;\n  }\n\n  onLogin() {\n    return;\n  }\n\n  login(user: User) {\n    user.entityType = 'auth';\n    return this.handler.create(user)\n    .then(response => {\n      sessionStorage.setItem('auth_token', response.content.data);\n      this.loggedIn = true;\n      this.handler.configure();\n      return this.onLogin();\n    });\n  }\n\n  signup(user: User) {\n    user = new User(user);\n    return this.handler.create(user)\n    .then( response => {\n      if (response.status === SUCCESS) {\n        this.user = new User(response.data);\n        return this.login(user);\n      }\n    });\n  }\n}\n","\nimport { inject } from 'aurelia-framework';\nimport { DocumentsApi } from 'services/documentsApi';\n\nclass Document {\n  _title;\n  _content;\n  title;\n  content;\n\n  get dirty() {\n    return (this._title !== this.title || this._content !== this.content);\n  }\n\n  assign({ title, content }) {\n    this._title = title;\n    this.title = title;\n    this._content = content;\n    this.content = content;\n  }\n}\n\n@inject(DocumentsApi)\nexport class Documents {\n  docs = [];\n  _current = {};\n  current = new Document();\n\n  constructor(documentsApi) {\n    this.api = documentsApi;\n\n    this.api.getAll()\n      .then(docs => this.docs = docs)\n      .then(() => this.changeCurrent(this.docs[0]));\n  }\n\n  setFormat() {\n\n  }\n\n  saveCurrent() {\n    this._current.title = this.current.title;\n    this._current.content = this.current.content;\n    this.current.assign(this._current);\n    this.api.update(this._current.id, {\n      title: this._current.title,\n      content: this._current.content\n    });\n  }\n\n  changeCurrent(document) {\n    this._current = document;\n    this.current.assign(document);\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Api } from 'services/api';\n\n@inject(Api)\nexport class DocumentsApi {\n  constructor(api) {\n    this.api = api;\n  }\n\n  getAll() {\n    return this.api.get('/documents');\n  }\n\n  create(body) {\n    return this.api.post('/documents', body);\n  }\n\n  get(id) {\n    return this.api.get(`/documents/${id}`);\n  }\n\n  update(id, body) {\n    return this.api.put(`/documents/${id}`, body);\n  }\n\n  delete(id) {\n    return this.api.delete(`/documents/${id}`);\n  }\n}\n","export class Entity {\n    entityType: string;\n    guid: string;\n}","import { inject, observable } from 'aurelia-framework';\nimport { Documents } from 'services/Documents';\n\nclass Document {\n  @observable title;\n  @observable content;\n\n  constructor(props) {\n    Object.assign(this, props);\n    this.dirty = false;\n  }\n\n  titleChanged() {\n    this.dirty = true;\n  }\n\n  contentChanged() {\n    this.dirty = true;\n  }\n}\n\n@inject(Documents)\nexport class Editor {\n  constructor(documents) {\n    this.docService = documents;\n    this.docs = [];\n    this.currentDoc = {};\n    this.loadedDoc = false;\n\n    this.refreshDocs();\n  }\n\n  get empty() {\n    return !this.docs.length;\n  }\n\n  get canCreate() {\n    return !!this.currentDoc.title;\n  }\n\n  get isDirty() {\n    return this.currentDoc.dirty;\n  }\n\n  refreshDocs() {\n    return this.docService.getAll()\n      .then(docs => {\n        if (docs) this.docs = docs.map(d => new Document(d));\n      });\n  }\n\n  setDoc(id) {\n    this.refreshDocs()\n      .then(() => {\n        const index = this.docs.reduce((d, c, i) => {\n          if (d === -1 && c.id === id) return i;\n          return d;\n        }, -1);\n\n        if (index === -1) throw new Error('Invalid doc id');\n\n        this.currentDoc = this.docs[index];\n        this.loadedDoc = true;\n      });\n  }\n\n  startNew() {\n    this.loadedDoc = false;\n    this.currentDoc = {};\n  }\n\n  importFile() {\n\n  }\n\n  save() {\n    this.docService.update(this.currentDoc.id, this.currentDoc)\n      .then((updated) => {\n        return this.refreshDocs()\n          .then(() => this.setDoc(updated.id));\n      });\n  }\n\n  create() {\n    this.currentDoc.format = 'churchCircles';\n    this.docService.create(this.currentDoc)\n      .then(created => {\n        return this.refreshDocs()\n          .then(() => this.setDoc(created.id));\n      });\n  }\n\n  delete(id, $event) {\n    const currentId = this.currentDoc.id;\n    $event.stopPropagation();\n\n    this.docService.delete(id)\n      .then(() => this.refreshDocs())\n      .then(() => () => {\n        if (currentId === id) this.startNew();\n        else return this.setDoc(currentId);\n      });\n  }\n}\n","import { customElement, bindable, inject } from 'aurelia-framework';\n\n@customElement('icon')\n@inject(Element)\nexport class Icon {\n    @bindable name: string = null;\n\n    constructor(element: Element) {\n        this.element = element;\n    }\n\n    nameChanged(name) {\n        this.element.setAttribute('style', `background-image: url(assets/icons/${name}.svg)`);\n    }\n}\n","import {AuthService} from 'services/authservice';\nimport {Router} from 'aurelia-router';\nimport {inject} from 'aurelia-framework';\n\n@inject(AuthService, Router)\nexport class Login {\n\n    email = null;\n    password = null;\n\n    constructor(auth, router) {\n        this.auth = auth;\n        this.router = router;\n    }\n\n    onSubmit(event: Event = null): void {\n        event.preventDefault();\n        this.login();\n    }\n\n    login() {\n\n        const email = this.email;\n        const password = this.password;\n        let user = {email, password};\n        this.auth.login(user)\n            .then(()=> {\n                this.router.navigate('');\n            })\n    }\n}\n",null,"import { customElement, inject } from 'aurelia-framework';\nimport { Documents } from 'services/documents';\n\n@customElement('texteditor')\n@inject(Element, Documents)\nexport class TextEditor {\n  constructor(element, documents) {\n    this.element = element;\n    this.documents = documents;\n  }\n}\n","\nexport class Category {\n\n}\n","\nexport class Home {\n  constructor() {\n    this.categories = [\n      {\n        name: 'Entry',\n        tools: [\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          },\n          {\n            name: 'Church Circles GenMap',\n            image: 'assets/churchCircles-genmap.png'\n          },\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          }\n        ]\n      },\n      {\n        name: 'Gospel',\n        tools: [\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          },\n          {\n            name: 'Church Circles GenMap',\n            image: 'assets/churchCircles-genmap.png'\n          },\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          }\n        ]\n      },\n      {\n        name: 'Church Formation',\n        tools: [\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          },\n          {\n            name: 'Church Circles GenMap',\n            image: 'assets/churchCircles-genmap.png'\n          },\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          }\n        ]\n      },\n      {\n        name: 'Discipleship',\n        tools: [\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          },\n          {\n            name: 'Church Circles GenMap',\n            image: 'assets/churchCircles-genmap.png'\n          },\n          {\n            name: 'Four Fields GenMap',\n            image: 'assets/fourFields-genmap.png'\n          }\n        ]\n      }\n    ];\n  }\n}\n","import { inject } from 'aurelia-framework';\nimport { Documents } from 'services/documents';\n\n@inject(Documents)\nexport class Tool {\n  canPersist = true;\n\n  constructor(documents) {\n    this.documents = documents;\n  }\n}\n"],"sourceRoot":".."}